<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand logo" href="/home"> <i class="fas fa-store"></i> Go! Market </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse bg-primary" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        {{#if user}}
        <li class="nav-item dropdown" id="productos">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-archive"></i> Productos
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/productos/add"> Productos </a>
            <div class="dropdown-divider" id="divider-tipo-pro"></div>
            <a class="dropdown-item" id="tipo-pro" href="/productos/tipo/add"> Tipos de Producto </a>
            <div class="dropdown-divider" id="divider-marca"></div>
            <a class="dropdown-item" id="marca" href="/productos/marca/add"> Marcas </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/productos/proveedores/add"> Proveedores </a>
          </div>
        </li>
        <li class="nav-item dropdown" id="personas">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-users"></i> Personas
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/persona/empleados/add"> Empleados </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/persona/clientes/add"> Clientes </a>
          </div>
        </li>
        <li class="nav-item dropdown" id="consultas">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-search"></i> Consultas por
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/facturacion/consultas/ventas"> Ventas </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/facturacion/consultas/compras"> Compras </a>
            <div class="dropdown-divider" id="divider-personas"></div>
            <a class="dropdown-item" id="data-personas" href="/persona/consultas"> Personas </a>
            <div class="dropdown-divider" id="divider-productos"></div>
            <a class="dropdown-item" id="data-productos" href="/productos/consultas"> Productos </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/facturacion/ventas/transacciones"> Transacciones de Venta </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/facturacion/compra/transacciones"> Transacciones de Compra </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/analiticas/ventas"> Analíticas de Ventas </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/analiticas/compras"> Analíticas de Compras </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/analiticas/productos"> Analíticas de Productos </a>
            <!--<div class="dropdown-divider"></div>-->
          </div>
        </li>
        <li class="nav-item dropdown" id="facturacion">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-dollar-sign"></i> Facturacion
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/facturacion/facturaregistro"> Realizar factura </a>
            <div class="dropdown-divider" id="divider-compra"></div>
            <a class="dropdown-item" id="compra" href="/facturacion/compra"> Realizar compra </a>

            <div class="dropdown-divider" id="divider-pago"></div>
            <a class="dropdown-item" id="metodo-pago" href="/facturacion/metodopago/add"> Metodos de Pago </a>

          </div>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-tools"></i> Configuración
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" id="cat-lab" href="/laboral/categorias/add"> Categorías Laborales </a>
            <div class="dropdown-divider" id="divider-lab"></div>
            <a class="dropdown-item" id="usuarios" href="/laboral/users"> Usuarios </a>
            <div class="dropdown-divider" id="divider-usuarios"></div>
            <a class="dropdown-item" href="/logout"> Cerrar Sesión </a>
          </div>
        </li>
        {{/if}}

      </ul>
    </div>
  </div>
</nav>

<!-- Scripts -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
  // Items
  const facturacion = $('#facturacion')
  const usuarios = $('#usuarios')
  const tipo_pro = $('#tipo-pro')
  const marca = $('#marca')
  const personas = $('#personas')
  const cat_lab = $('#cat-lab')
  const productos = $('#productos')
  const consultas = $('#consultas')
  const compra = $('#compra')
  const pago = $('#metodo-pago')

  const data_personas = $('#data-personas')
  const data_productos = $('#data-productos')

  // Dividers
  const divider_users = $('#divider-usuarios')
  const divider_tipo_pro = $('#divider-tipo-pro')
  const divider_marca = $('#divider-marca')
  const divider_lab = $('#divider-lab')
  const divider_personas = $('#divider-personas')
  const divider_productos = $('#divider-productos')
  const divider_pago = $('#divider-pago')
  const divider_compra = $('#divider-compra')

  // ID PRIVILEGIO
  var tipoPrivilegio = `{{user.ID_ROL}}`

  // DISEÑADOR
  if (tipoPrivilegio === '7') {
    facturacion.addClass('d-none')
    usuarios.addClass('d-none')
    tipo_pro.addClass('d-none')
    marca.addClass('d-none')

    divider_users.addClass('d-none')
    divider_tipo_pro.addClass('d-none')
    divider_marca.addClass('d-none')
  }
  else if (tipoPrivilegio === '4') {
    personas.addClass('d-none')
    usuarios.addClass('d-none')
    cat_lab.addClass('d-none')
    data_personas.addClass('d-none')
    data_productos.addClass('d-none')

    divider_users.addClass('d-none')
    divider_lab.addClass('d-none')
    divider_personas.addClass('d-none')
    divider_productos.addClass('d-none')
  }

  else if (tipoPrivilegio === '5') {
    usuarios.addClass('d-none')
    cat_lab.addClass('d-none')
    productos.addClass('d-none')
    consultas.addClass('d-none')
    personas.addClass('d-none')
    compra.addClass('d-none')
    pago.addClass('d-none')

    divider_users.addClass('d-none')
    divider_lab.addClass('d-none')
    divider_pago.addClass('d-none')
    divider_compra.addClass('d-none')
  }

</script>